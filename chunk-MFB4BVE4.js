import{a as rt,b as st,c as kt,d as Tt,e as zt,f as Mt,g as Vt,h as Ft}from"./chunk-IZWEFOTV.js";import{a as bt,b as xt,c as Et}from"./chunk-JWBDBPTO.js";import"./chunk-RJULDXP5.js";import{a as It}from"./chunk-YZOVABVU.js";import{e as Ue}from"./chunk-LK7TKE3M.js";import{b as yt,c as Ct,j as Dt}from"./chunk-L6TBZT6T.js";import{b as lt,c as ye,e as dt,f as ct,g as mt,h as W,j as pt,k as gt,l as _t,n as ut,o as ft,p as ht,q as vt}from"./chunk-2UWYRXKY.js";import{a as wt,b as St}from"./chunk-76W2CUH6.js";import"./chunk-PVZCQTHS.js";import{a as at}from"./chunk-QFK7VPNF.js";import{c as ne}from"./chunk-5674PVL2.js";import{c as Ze,d as le,f as ee,h as de,i as ce,k as me}from"./chunk-4YRY4IP2.js";import"./chunk-73SRZ5W2.js";import{D as ie,m as he,n as nt}from"./chunk-EM5XZP4M.js";import{$ as it,H as Ke,S as ue,T as fe,V as et,_ as tt,a as pe,b as O,d as Y,da as ot,f as ge,ia as ve,k as _e,m as Je,y as te}from"./chunk-CK7WZHKF.js";import{$a as T,Ac as qe,Bb as Le,Cb as Oe,Cc as X,Db as Pe,Eb as Z,Fb as J,Ga as l,Gb as F,Ha as S,Hb as se,Ib as Ne,Jb as Be,Ma as Te,Mb as R,Na as ze,Nb as L,Pa as Me,Qa as Ve,Qb as K,S as ae,Ua as g,Wa as Fe,X as Q,Xa as d,Xb as je,Y as x,Ya as Re,_a as k,aa as q,bb as N,ca as De,cb as B,db as j,eb as A,f as b,fb as s,fc as Ae,gb as r,hb as h,ib as D,ja as m,jb as I,ka as p,kb as U,kc as $e,lb as C,ma as Ie,mb as u,nb as c,oa as Ee,qb as re,ra as ke,rc as Xe,sc as Ye,tb as z,ub as M,uc as We,vb as V,vc as Ge,wc as He,xb as _,yb as $,yc as Qe,zb as w}from"./chunk-O2BEBOXS.js";import{a as Se,e as H}from"./chunk-ACKELEN3.js";var Rt=(()=>{class t{viewContainerRef;constructor(e){this.viewContainerRef=e}static \u0275fac=function(o){return new(o||t)(S(ze))};static \u0275dir=De({type:t,selectors:[["","pDynamicDialogContent",""]],standalone:!0})}return t})(),Lt=(()=>{class t extends Tt{name="dialog";static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ie(t)))(i||t)}})();static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})();var oe=class{data;header;ariaLabelledBy;footer;width;height;closeOnEscape=!1;focusOnShow=!0;focusTrap=!0;baseZIndex;autoZIndex=!1;dismissableMask=!1;rtl=!1;style;contentStyle;styleClass;transitionOptions;closable=!1;showHeader=!1;modal=!1;maskStyleClass;resizable=!1;draggable=!1;keepInViewport=!1;minX;minY;maximizable=!1;maximizeIcon;minimizeIcon;position;closeAriaLabel;appendTo;duplicate=!1;breakpoints;templates},G=class{constructor(){}close(n){this._onClose.next(n),setTimeout(()=>{this._onClose.complete()},1e3)}destroy(){this._onDestroy.next(null)}dragStart(n){this._onDragStart.next(n)}dragEnd(n){this._onDragEnd.next(n)}resizeInit(n){this._onResizeInit.next(n)}resizeEnd(n){this._onResizeEnd.next(n)}maximize(n){this._onMaximize.next(n)}_onClose=new b;onClose=this._onClose.asObservable();_onDestroy=new b;onDestroy=this._onDestroy.asObservable();_onDragStart=new b;onDragStart=this._onDragStart.asObservable();_onDragEnd=new b;onDragEnd=this._onDragEnd.asObservable();_onResizeInit=new b;onResizeInit=this._onResizeInit.asObservable();_onResizeEnd=new b;onResizeEnd=this._onResizeEnd.asObservable();_onMaximize=new b;onMaximize=this._onMaximize.asObservable();onChildComponentLoaded=new b},jt=["mask"],At=["content"],$t=["footer"],Xt=["titlebar"],Yt=(t,n,e)=>({position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex","justify-content":t,"align-items":n,"pointer-events":e}),Wt=t=>({"p-dialog p-component":!0,"p-dialog-maximized":t}),Gt=()=>({display:"flex","flex-direction":"column","pointer-events":"auto"}),Ht=(t,n)=>({transform:t,transition:n}),Qt=t=>({value:"visible",params:t});function qt(t,n){if(t&1){let e=C();s(0,"div",14),u("mousedown",function(i){m(e);let a=c(2);return p(a.initResize(i))}),r()}t&2&&d("ngClass","p-resizable-handle")}function Ut(t,n){t&1&&U(0)}function Zt(t,n){t&1&&h(0,"WindowMaximizeIcon")}function Jt(t,n){t&1&&h(0,"WindowMinimizeIcon")}function Kt(t,n){if(t&1&&(D(0),g(1,Zt,1,0,"WindowMaximizeIcon",11)(2,Jt,1,0,"WindowMinimizeIcon",11),I()),t&2){let e=c(5);l(),d("ngIf",!e.maximized&&!e.maximizeIconTemplate),l(),d("ngIf",e.maximized&&!e.minimizeIconTemplate)}}function ei(t,n){}function ti(t,n){t&1&&g(0,ei,0,0,"ng-template")}function ii(t,n){if(t&1&&(D(0),g(1,ti,1,0,null,21),I()),t&2){let e=c(5);l(),d("ngTemplateOutlet",e._maximizeIconTemplate)}}function ni(t,n){}function oi(t,n){t&1&&g(0,ni,0,0,"ng-template")}function ai(t,n){if(t&1&&(D(0),g(1,oi,1,0,null,21),I()),t&2){let e=c(5);l(),d("ngTemplateOutlet",e._minimizeIconTemplate)}}function ri(t,n){if(t&1){let e=C();s(0,"p-button",20),u("onClick",function(){m(e);let i=c(4);return p(i.maximize())})("keydown.enter",function(){m(e);let i=c(4);return p(i.maximize())}),g(1,Kt,3,2,"ng-container",11)(2,ii,2,1,"ng-container",11)(3,ai,2,1,"ng-container",11),r()}if(t&2){let e=c(4);d("styleClass","p-dialog-maximize-button")("tabindex",e.maximizable?"0":"-1"),l(),d("ngIf",!e.maximizeIcon),l(),d("ngIf",!e.maximized),l(),d("ngIf",e.maximized)}}function si(t,n){t&1&&(D(0),h(1,"TimesIcon"),I())}function li(t,n){}function di(t,n){t&1&&g(0,li,0,0,"ng-template")}function ci(t,n){if(t&1&&(s(0,"span"),g(1,di,1,0,null,21),r()),t&2){let e=c(5);l(),d("ngTemplateOutlet",e.closeIconTemplate)}}function mi(t,n){if(t&1){let e=C();s(0,"p-button",22),u("onClick",function(){m(e);let i=c(4);return p(i.hide())})("keydown.enter",function(){m(e);let i=c(4);return p(i.hide())}),g(1,si,2,0,"ng-container",11)(2,ci,2,1,"span",11),r()}if(t&2){let e=c(4);d("styleClass","p-dialog-close-button")("ariaLabel",e.closeAriaLabel),l(),d("ngIf",!e.closeIconTemplate),l(),d("ngIf",e.closeIconTemplate)}}function pi(t,n){if(t&1&&(D(0),s(1,"span",16),_(2),r(),s(3,"div",17),g(4,ri,4,5,"p-button",18)(5,mi,3,4,"p-button",19),r(),I()),t&2){let e=c(3);l(),d("ngClass","p-dialog-title")("id",e.ariaLabelledBy),l(),$(e.ddconfig.header),l(),d("ngClass","p-dialog-header-actions"),l(),d("ngIf",e.ddconfig.maximizable),l(),d("ngIf",e.closable)}}function gi(t,n){if(t&1){let e=C();s(0,"div",15,3),u("mousedown",function(i){m(e);let a=c(2);return p(a.initDrag(i))}),g(2,Ut,1,0,"ng-container",12)(3,pi,6,6,"ng-container",11),r()}if(t&2){let e=c(2);d("ngClass","p-dialog-header"),l(2),d("ngComponentOutlet",e.headerTemplate),l(),d("ngIf",!e.headerTemplate)}}function _i(t,n){}function ui(t,n){t&1&&g(0,_i,0,0,"ng-template",23)}function fi(t,n){t&1&&U(0)}function hi(t,n){if(t&1&&(D(0),_(1),I()),t&2){let e=c(3);l(),w(" ",e.ddconfig.footer," ")}}function vi(t,n){t&1&&U(0)}function yi(t,n){if(t&1&&(s(0,"div",17,4),g(2,hi,2,1,"ng-container",11)(3,vi,1,0,"ng-container",12),r()),t&2){let e=c(2);d("ngClass","p-dialog-footer"),l(2),d("ngIf",!e.footerTemplate),l(),d("ngComponentOutlet",e.footerTemplate)}}function Ci(t,n){if(t&1){let e=C();s(0,"div",7,1),u("@animation.start",function(i){m(e);let a=c();return p(a.onAnimationStart(i))})("@animation.done",function(i){m(e);let a=c();return p(a.onAnimationEnd(i))}),g(2,qt,1,1,"div",8)(3,gi,4,3,"div",9),s(4,"div",10,2),g(6,ui,1,0,null,11)(7,fi,1,0,"ng-container",12),r(),g(8,yi,4,3,"div",13),r()}if(t&2){let e=c();k(e.ddconfig.style),T(e.ddconfig.styleClass),Re("width",e.ddconfig.width)("height",e.ddconfig.height),d("ngClass",se(22,Wt,e.maximizable&&e.maximized))("ngStyle",F(24,Gt))("@animation",se(28,Qt,Ne(25,Ht,e.transformOptions,e.ddconfig.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)")))("pFocusTrapDisabled",e.ddconfig.focusTrap===!1),Fe("aria-labelledby",e.ariaLabelledBy)("aria-modal",!0)("id",e.dialogId),l(2),d("ngIf",e.ddconfig.resizable),l(),d("ngIf",e.ddconfig.showHeader!==!1),l(),d("ngClass","p-dialog-content")("ngStyle",e.ddconfig.contentStyle),l(2),d("ngIf",!e.contentTemplate),l(),d("ngComponentOutlet",e.contentTemplate),l(),d("ngIf",e.ddconfig.footer||e.footerTemplate)}}var bi=ce([ee({transform:"{{transform}}",opacity:0}),le("{{transition}}",ee({transform:"none",opacity:1}))]),xi=ce([le("{{transition}}",ee({transform:"{{transform}}",opacity:0}))]),wi=(()=>{class t extends ot{renderer;ddconfig;dialogRef;zone;parentDialog;visible=!0;componentRef;mask;resizing;dragging;maximized;_style={};originalStyle;lastPageX;lastPageY;ariaLabelledBy;id=ue("pn_id_");styleElement;insertionPoint;maskViewChild;contentViewChild;footerViewChild;headerViewChild;childComponentType;container;wrapper;documentKeydownListener;documentEscapeListener;maskClickListener;transformOptions="scale(0.7)";documentResizeListener;documentResizeEndListener;documentDragListener;documentDragEndListener;_componentStyle=x(Lt);get minX(){return this.ddconfig.minX?this.ddconfig.minX:0}get minY(){return this.ddconfig.minY?this.ddconfig.minY:0}get keepInViewport(){return this.ddconfig.keepInViewport}get maximizable(){return this.ddconfig.maximizable}get maximizeIcon(){return this.ddconfig.maximizeIcon}get minimizeIcon(){return this.ddconfig.minimizeIcon}get closable(){return this.ddconfig.closable}get style(){return this._style}get position(){return this.ddconfig.position}get closeAriaLabel(){return this.config.getTranslation(it.ARIA).close}set style(e){e&&(this._style=Se({},e),this.originalStyle=e)}get parent(){let e=Array.from(this.document.getElementsByClassName("p-dialog"));if(e.length>1)return e.pop()}get parentContent(){let e=Array.from(this.document.getElementsByClassName("p-dialog"));if(e.length>0){let o=e[e.length-1].querySelector(".p-dialog-content");if(o)return Array.isArray(o)?o[0]:o}}get header(){return this.ddconfig.header}get data(){return this.ddconfig.data}get breakpoints(){return this.ddconfig.breakpoints}get footerTemplate(){return this.ddconfig?.templates?.footer}get headerTemplate(){return this.ddconfig?.templates?.header}get contentTemplate(){return this.ddconfig?.templates?.content}get minimizeIconTemplate(){return this.ddconfig?.templates?.minimizeicon}get maximizeIconTemplate(){return this.ddconfig?.templates?.maximizeicon}get closeIconTemplate(){return this.ddconfig?.templates?.closeicon}get maskClass(){let o=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find(i=>i===this.position);return{"p-dialog-mask":!0,"p-overlay-mask p-overlay-mask-enter":this.ddconfig.modal||this.ddconfig.dismissableMask,[`p-dialog-${o}`]:o}}get dialogId(){return this.attrSelector}constructor(e,o,i,a,f){super(),this.renderer=e,this.ddconfig=o,this.dialogRef=i,this.zone=a,this.parentDialog=f}ngOnInit(){super.ngOnInit(),this.breakpoints&&this.createStyle()}createStyle(){if(X(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let o in this.breakpoints)e+=`
                        @media screen and (max-width: ${o}) {
                            .p-dialog[id=${this.dialogId}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[o]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",e),Ke(this.styleElement,"nonce",this.config?.csp()?.nonce)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngAfterViewInit(){super.ngAfterViewInit(),this.loadChildComponent(this.childComponentType),this.ariaLabelledBy=this.getAriaLabelledBy(),this.cd.detectChanges()}getAriaLabelledBy(){return this.header!==null?ue("pn_id_")+"_header":null}loadChildComponent(e){let o=this.insertionPoint?.viewContainerRef;o?.clear(),this.componentRef=o?.createComponent(e),this.dialogRef.onChildComponentLoaded.next(this.componentRef.instance)}moveOnTop(){this.ddconfig.autoZIndex!==!1&&(ie.set("modal",this.container,(this.ddconfig.baseZIndex||0)+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.parent&&this.unbindGlobalListeners(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.ddconfig.modal!==!1&&this.enableModality(),this.ddconfig.focusOnShow!==!1&&this.focus();break;case"void":this.wrapper&&this.ddconfig.modal!==!1&&O(this.wrapper,"p-overlay-mask-leave");break}}onAnimationEnd(e){e.toState==="void"&&(this.parentContent&&this.focus(this.parentContent),this.onContainerDestroy(),this.dialogRef.destroy())}onContainerDestroy(){this.unbindGlobalListeners(),this.container&&this.ddconfig.autoZIndex!==!1&&ie.clear(this.container),this.ddconfig.modal!==!1&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){this.ddconfig.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.hide()})),this.ddconfig.modal!==!1&&O(this.document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.ddconfig.dismissableMask&&this.unbindMaskClickListener(),this.ddconfig.modal!==!1&&Y(this.document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}focus(e=this.contentViewChild.nativeElement){let o=ve.getFocusableElement(e,"[autofocus]");if(o){this.zone.runOutsideAngular(()=>{setTimeout(()=>o.focus(),5)});return}let i=ve.getFocusableElement(e);i?this.zone.runOutsideAngular(()=>{setTimeout(()=>i.focus(),5)}):this.footerViewChild?this.focus(this.footerViewChild.nativeElement):!i&&this.headerViewChild&&this.focus(this.headerViewChild.nativeElement)}maximize(){this.maximized=!this.maximized,this.maximized?O(this.document.body,"p-overflow-hidden"):Y(this.document.body,"p-overflow-hidden"),this.dialogRef.maximize({maximized:this.maximized})}initResize(e){this.ddconfig.resizable&&(this.documentResizeListener||this.bindDocumentResizeListeners(),this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,O(this.document.body,"p-unselectable-text"),this.dialogRef.resizeInit(e))}onResize(e){if(this.resizing){let o=e.pageX-this.lastPageX,i=e.pageY-this.lastPageY,a=_e(this.container),f=te(this.container),E=te(this.contentViewChild.nativeElement),v=a+o,y=f+i,P=this.container.style.minWidth,be=this.container.style.minHeight,xe=this.container.getBoundingClientRect(),we=ge();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(v+=o,y+=i),(!P||v>parseInt(P))&&xe.left+v<we.width&&(this._style.width=v+"px",this.container.style.width=this._style.width),(!be||y>parseInt(be))&&xe.top+y<we.height&&(this.contentViewChild.nativeElement.style.height=E+y-f+"px",this._style.height&&(this._style.height=y+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,Y(this.document.body,"p-unselectable-text"),this.dialogRef.resizeEnd(e))}initDrag(e){pe(e.target,"p-dialog-header-icon")||pe(e.target.parentElement,"p-dialog-header-icon")||this.ddconfig.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",O(this.document.body,"p-unselectable-text"),this.dialogRef.dragStart(e))}onDrag(e){if(this.dragging){let o=_e(this.container),i=te(this.container),a=e.pageX-this.lastPageX,f=e.pageY-this.lastPageY,E=this.container.getBoundingClientRect(),v=E.left+a,y=E.top+f,P=ge();this.container.style.position="fixed",this.keepInViewport?(v>=this.minX&&v+o<P.width&&(this._style.left=v+"px",this.lastPageX=e.pageX,this.container.style.left=v+"px"),y>=this.minY&&y+i<P.height&&(this._style.top=y+"px",this.lastPageY=e.pageY,this.container.style.top=y+"px")):(this.lastPageX=e.pageX,this.container.style.left=v+"px",this.lastPageY=e.pageY,this.container.style.top=y+"px")}}endDrag(e){this.dragging&&(this.dragging=!1,Y(this.document.body,"p-unselectable-text"),this.dialogRef.dragEnd(e),this.cd.detectChanges())}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}bindDocumentDragListener(){X(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.document,"mousemove",this.onDrag.bind(this))})}bindDocumentDragEndListener(){X(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.document,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragListener=null)}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentResizeListeners(){X(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.document,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.document,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindGlobalListeners(){this.ddconfig.closeOnEscape!==!1&&this.bindDocumentEscapeListener(),this.ddconfig.resizable&&this.bindDocumentResizeListeners(),this.ddconfig.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener())}unbindGlobalListeners(){this.unbindDocumentEscapeListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener()}bindDocumentEscapeListener(){let e=this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(e,"keydown",o=>{o.which==27&&parseInt(this.container.style.zIndex)==ie.getCurrent()&&this.hide()})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy(),this.destroyStyle(),super.ngOnDestroy()}static \u0275fac=function(o){return new(o||t)(S(Te),S(oe),S(G),S(ke),S(t,12))};static \u0275cmp=q({type:t,selectors:[["p-dynamicDialog"],["p-dynamicdialog"],["p-dynamic-dialog"]],viewQuery:function(o,i){if(o&1&&(z(Rt,5),z(jt,5),z(At,5),z($t,5),z(Xt,5)),o&2){let a;M(a=V())&&(i.insertionPoint=a.first),M(a=V())&&(i.maskViewChild=a.first),M(a=V())&&(i.contentViewChild=a.first),M(a=V())&&(i.footerViewChild=a.first),M(a=V())&&(i.headerViewChild=a.first)}},standalone:!0,features:[Z([Lt]),Ve,J],decls:3,vars:9,consts:[["mask",""],["container",""],["content",""],["titlebar",""],["footer",""],[3,"ngStyle","ngClass"],["role","dialog","pFocusTrap","",3,"ngClass","ngStyle","style","class","pFocusTrapDisabled","width","height",4,"ngIf"],["role","dialog","pFocusTrap","",3,"ngClass","ngStyle","pFocusTrapDisabled"],["style","z-index: 90;",3,"ngClass","mousedown",4,"ngIf"],[3,"ngClass","mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],[4,"ngIf"],[4,"ngComponentOutlet"],[3,"ngClass",4,"ngIf"],[2,"z-index","90",3,"mousedown","ngClass"],[3,"mousedown","ngClass"],[3,"ngClass","id"],[3,"ngClass"],[3,"styleClass","tabindex","onClick","keydown.enter",4,"ngIf"],["rounded","","text","","severity","secondary",3,"styleClass","ariaLabel","onClick","keydown.enter",4,"ngIf"],[3,"onClick","keydown.enter","styleClass","tabindex"],[4,"ngTemplateOutlet"],["rounded","","text","","severity","secondary",3,"onClick","keydown.enter","styleClass","ariaLabel"],["pDynamicDialogContent",""]],template:function(o,i){o&1&&(s(0,"div",5,0),g(2,Ci,9,30,"div",6),r()),o&2&&(T(i.ddconfig.maskStyleClass),d("ngStyle",Be(5,Yt,i.position==="left"||i.position==="topleft"||i.position==="bottomleft"?"flex-start":i.position==="right"||i.position==="topright"||i.position==="bottomright"?"flex-end":"center",i.position==="top"||i.position==="topleft"||i.position==="topright"?"flex-start":i.position==="bottom"||i.position==="bottomleft"||i.position==="bottomright"?"flex-end":"center",i.ddconfig.modal?"auto":"none"))("ngClass",i.maskClass),l(2),d("ngIf",i.visible))},dependencies:[qe,Xe,Ye,We,He,Ge,tt,Rt,rt,st,at,ne,kt],encapsulation:2,data:{animation:[Ze("animation",[de("void => visible",[me(bi)]),de("visible => void",[me(xi)])])]}})}return t})();var Ce=class{_parentInjector;_additionalTokens;constructor(n,e){this._parentInjector=n,this._additionalTokens=e}get(n,e,o){let i=this._additionalTokens.get(n);return i||this._parentInjector.get(n,e)}},Ot=(()=>{class t{appRef;injector;document;dialogComponentRefMap=new Map;constructor(e,o,i){this.appRef=e,this.injector=o,this.document=i}open(e,o){if(!this.duplicationPermission(e,o))return null;let i=this.appendDialogComponentToBody(o,e);return this.dialogComponentRefMap.get(i).instance.childComponentType=e,i}getInstance(e){return this.dialogComponentRefMap.get(e).instance}appendDialogComponentToBody(e,o){let i=new WeakMap;i.set(oe,e);let a=new G;i.set(G,a);let f=a.onClose.subscribe(()=>{this.dialogComponentRefMap.get(a).instance.close()}),E=a.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(a),E.unsubscribe(),f.unsubscribe()}),v=Ae(wi,{environmentInjector:this.appRef.injector,elementInjector:new Ce(this.injector,i)});this.appRef.attachView(v.hostView);let y=v.hostView.rootNodes[0];return!e.appendTo||e.appendTo==="body"?this.document.body.appendChild(y):Je(e.appendTo,y),this.dialogComponentRefMap.set(a,v),a}removeDialogComponentFromBody(e){if(!e||!this.dialogComponentRefMap.has(e))return;let o=this.dialogComponentRefMap.get(e);this.appRef.detachView(o.hostView),o.destroy(),this.dialogComponentRefMap.delete(e)}duplicationPermission(e,o){if(o.duplicate)return!0;let i=!0;for(let[a,f]of this.dialogComponentRefMap)if(f.instance.childComponentType===e){i=!1;break}return i}static \u0275fac=function(o){return new(o||t)(Q(je),Q(Ee),Q($e))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})();var Si=()=>({width:"25rem"}),Nt=()=>({height:"100%"});function Di(t,n){if(t&1){let e=C();s(0,"div",18)(1,"h3"),_(2,"Ahorros activos"),r(),s(3,"div",19)(4,"p-button",20),u("onClick",function(){m(e);let i=c();return p(i.openDialog())}),r()()(),s(5,"div",21)(6,"h4"),_(7),R(8,"currency"),r()()}if(t&2){let e=c();l(7),w("Total de ahorro: ",L(8,1,e.totalSaving),"")}}function Ii(t,n){if(t&1&&(s(0,"div",22)(1,"div",23)(2,"div",24),h(3,"i",25)(4,"p-skeleton",26),r()(),s(5,"div",27),h(6,"p-skeleton",28)(7,"p-skeleton",28),r(),s(8,"div",29),h(9,"p-button",30)(10,"p-button",31)(11,"p-button",32)(12,"p-button",33),r()()),t&2){let e=c(3);l(6),d("width",e._utils.randomNumberInt(6,15).toString()+"rem"),l(),d("width",e._utils.randomNumberInt(6,15).toString()+"rem")}}function Ei(t,n){if(t&1&&j(0,Ii,13,2,"div",22,B),t&2){let e=c(2);A(e._utils.arrayOf(8))}}function ki(t,n){if(t&1){let e=C();s(0,"div",22)(1,"div",34),u("click",function(){let i=m(e).$implicit,a=c(3);return p(a.details(i))}),s(2,"div",23)(3,"h3"),h(4,"i",25),_(5),R(6,"currency"),r()(),s(7,"div",27)(8,"span")(9,"strong"),_(10,"Nombre: "),r(),_(11),r(),s(12,"span")(13,"strong"),_(14,"Meta:"),r(),_(15),R(16,"currency"),r()()(),s(17,"div",29)(18,"p-button",35),u("onClick",function(){let i=m(e).$implicit,a=c(3);return p(a.goToNewMovement("deposito",i))}),r(),s(19,"p-button",36),u("onClick",function(){let i=m(e).$implicit,a=c(3);return p(a.goToNewMovement("retiro",i))}),r(),s(20,"p-button",37),u("onClick",function(){let i=m(e).$implicit,a=c(3);return p(a.openDialog(i))}),r(),s(21,"p-button",38),u("onClick",function(i){let a=m(e).$implicit,f=c(3);return p(f.confirmDelete(i,a))}),r()()()}if(t&2){let e=n.$implicit;l(5),w(" ",L(6,3,e.cantidad)," "),l(6),$(e.nombre),l(4),w(" ",L(16,5,e.meta),"")}}function Ti(t,n){if(t&1&&j(0,ki,22,7,"div",22,B),t&2){let e=c().$implicit;A(e)}}function zi(t,n){if(t&1&&g(0,Ei,2,0)(1,Ti,2,0),t&2){let e=c();N(e.loading$()?0:1)}}function Mi(t,n){if(t&1&&(s(0,"p-card")(1,"div",23)(2,"div",24),h(3,"i",25)(4,"p-skeleton",26),r()(),s(5,"div",27),h(6,"p-skeleton",28)(7,"p-skeleton",28),r(),s(8,"div",29),h(9,"p-button",41)(10,"p-button",42)(11,"p-button",43)(12,"p-button",44),r()()),t&2){let e=c(3);k(F(4,Nt)),l(6),d("width",e._utils.randomNumberInt(6,15).toString()+"rem"),l(),d("width",e._utils.randomNumberInt(6,15).toString()+"rem")}}function Vi(t,n){if(t&1&&j(0,Mi,13,5,"p-card",40,B),t&2){let e=c(2);A(e._utils.arrayOf(8))}}function Fi(t,n){if(t&1){let e=C();s(0,"p-card")(1,"div",34),u("click",function(){let i=m(e).$implicit,a=c(3);return p(a.details(i))}),s(2,"div",23)(3,"h3"),h(4,"i",25),_(5),R(6,"currency"),r()(),s(7,"div",27)(8,"span")(9,"strong"),_(10,"Nombre: "),r(),_(11),r(),s(12,"span")(13,"strong"),_(14,"Meta:"),r(),_(15),R(16,"currency"),r()()(),s(17,"div",29)(18,"p-button",45),u("onClick",function(){let i=m(e).$implicit,a=c(3);return p(a.goToNewMovement("deposito",i))}),r(),s(19,"p-button",46),u("onClick",function(){let i=m(e).$implicit,a=c(3);return p(a.goToNewMovement("retiro",i))}),r(),s(20,"p-button",47),u("onClick",function(){let i=m(e).$implicit,a=c(3);return p(a.openDialog(i))}),r(),s(21,"p-button",48),u("onClick",function(i){let a=m(e).$implicit,f=c(3);return p(f.confirmDelete(i,a))}),r()()()}if(t&2){let e=n.$implicit;k(F(9,Nt)),l(5),w(" ",L(6,5,e.cantidad)," "),l(6),$(e.nombre),l(4),w(" ",L(16,7,e.meta),"")}}function Ri(t,n){if(t&1&&j(0,Fi,22,10,"p-card",40,B),t&2){let e=c().$implicit;A(e)}}function Li(t,n){if(t&1&&(s(0,"div",39),g(1,Vi,2,0)(2,Ri,2,0),r()),t&2){let e=c();l(),N(e.loading$()?1:2)}}function Oi(t,n){t&1&&(s(0,"small",12),_(1,"Este campo es requerido"),r())}function Pi(t,n){t&1&&(s(0,"small",12),_(1,"Este campo es requerido"),r())}var Pt=class t{_savingService=x(It);_deviceService=x(Dt);_confirmationService=x(fe);_messageService=x(et);_router=x(Ue);_utils=x(nt);savings$=Me([]);loading$=this._savingService.loading$;subscription;layout="list";dialogFormVisible=!1;dialogIsNew=!1;savingForm=new mt({id:new W(null),nombre:new W("",[ye.required]),meta:new W(null,[ye.required]),cantidad:new W(0)});ngOnInit(){return H(this,null,function*(){try{this.savings$=yield this._savingService.getSavings()}catch(n){this._messageService.add({severity:"error",summary:"Ocurrio un error al obtener el listado de ahorros",detail:n.message,sticky:!0})}this.subscription=this._deviceService.isMobile$.subscribe(n=>{this.layout=n?"list":"grid"})})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}details(n){this._router.navigateByUrl("movimientos?saving="+n.id)}get totalSaving(){let n=0;return this.savings$().forEach(e=>{n+=Number(e.cantidad)}),n}goToNewMovement(n,e){this._router.navigateByUrl(`/movimientos/${n}?ahorroId=${e.id}`)}openDialog(n){n&&this.savingForm.patchValue({id:n.id,nombre:n.nombre,meta:n.meta,cantidad:n.cantidad}),this.dialogIsNew=!n,this.dialogFormVisible=!0}cancelDialog(){this.savingForm.reset({nombre:"",cantidad:0,meta:null}),this.dialogFormVisible=!1}confirmDelete(n,e){this._confirmationService.confirm({target:n.target,message:`\xBFDesea desactivar ${this._utils.addElipsis(e.nombre,15)}?`,icon:"pi pi-info-circle",rejectButtonProps:{label:"Cancelar",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Si, desactivar",severity:"danger"},accept:()=>{this.deleteSaving(e.id)},reject:()=>{}})}submitDialog(){return H(this,null,function*(){if(this.savingForm.markAllAsTouched(),this.savingForm.valid){if(this.dialogIsNew)try{yield this._savingService.addSaving({nombre:this.savingForm.value.nombre.trim(),meta:this.savingForm.value.meta,cantidad:this.savingForm.value.cantidad,activo:!0})}catch(n){this._messageService.add({severity:"error",summary:"Ocurrio un error al agregar el ahorro",detail:n.message,sticky:!0})}else try{yield this._savingService.updateSaving({id:this.savingForm.value.id,nombre:this.savingForm.value.nombre.trim(),meta:this.savingForm.value.meta,cantidad:this.savingForm.value.cantidad,activo:!0})}catch(n){this._messageService.add({severity:"error",summary:"Ocurrio un error al actualizar el ahorro",detail:n.message,sticky:!0})}this.savingForm.reset({nombre:"",cantidad:0,meta:null}),this.dialogFormVisible=!1,he.mockUp&&(this.savings$=this._savingService.getSavings())}})}deleteSaving(n){return H(this,null,function*(){try{yield this._savingService.deleteSaving(n)}catch(e){this._messageService.add({severity:"error",summary:"Ocurrio un error al desactivar el ahorro",detail:e.message,sticky:!0})}he.mockUp&&(this.savings$=this._savingService.getSavings())})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=q({type:t,selectors:[["app-savings"]],standalone:!0,features:[Z([fe,Ot]),J],decls:28,vars:19,consts:[["dv",""],["header",""],["list",""],["grid",""],[3,"value","layout"],["closable","false",3,"visibleChange","header","modal","visible"],[1,"dialog-content",3,"formGroup"],[1,"dialog-subtitle"],[1,"dialog-input"],["for","nombre",1,"dialog-labels"],[2,"display","flex","flex-direction","column"],["pInputText","","id","nombre","autocomplete","off","formControlName","nombre"],[1,"label-error"],["for","lastname",1,"dialog-labels"],["inputId","lastname","mode","currency","currency","MXN","locale","es-MX","autocomplete","off","formControlName","meta"],[1,"dialog-buttons"],["label","Cancelar","severity","secondary",3,"click"],[3,"click","label","loading"],[1,"header"],[1,"controls"],["label","Nuevo ahorro","icon","pi pi-plus",3,"onClick"],[1,"header-bottom"],[1,"border-bottom","item-list"],[1,"item-header"],[2,"display","flex","gap","0.5rem"],[1,"pi","pi-wallet"],["width","6rem","height","2rem"],[1,"item-body"],["height","1rem",3,"width"],[1,"item-footer"],["disabled","true","icon","pi pi-download","label","Guardar"],["disabled","true","icon","pi pi-upload","label","Retriar"],["disabled","true","icon","pi pi-pencil","severity","secondary"],["disabled","true","icon","pi pi-trash","severity","danger"],[3,"click"],["icon","pi pi-download","label","Guardar",3,"onClick"],["icon","pi pi-upload","label","Retriar",3,"onClick"],["icon","pi pi-pencil","severity","secondary",3,"onClick"],["icon","pi pi-trash","severity","danger",3,"onClick"],[1,"grid-container"],[3,"style"],["icon","pi pi-download","disabled","true","label","Guardar","size","small"],["icon","pi pi-upload","disabled","true","label","Retriar","size","small"],["icon","pi pi-pencil","disabled","true","severity","secondary","size","small"],["icon","pi pi-trash","disabled","true","severity","danger","size","small"],["icon","pi pi-download","label","Guardar","size","small",3,"onClick"],["icon","pi pi-upload","label","Retiar","size","small",3,"onClick"],["icon","pi pi-pencil","severity","secondary","size","small",3,"onClick"],["icon","pi pi-trash","severity","danger","size","small",3,"onClick"]],template:function(e,o){if(e&1){let i=C();s(0,"p-dataview",4,0),g(2,Di,9,3,"ng-template",null,1,K)(4,zi,2,1,"ng-template",null,2,K)(6,Li,3,1,"ng-template",null,3,K),r(),s(8,"p-dialog",5),Pe("visibleChange",function(f){return m(i),Oe(o.dialogFormVisible,f)||(o.dialogFormVisible=f),p(f)}),s(9,"form",6)(10,"span",7),_(11,"Ingresa la informaci\xF3n solicitada"),r(),s(12,"div",8)(13,"label",9),_(14,"Nombre"),r(),s(15,"div",10),h(16,"input",11),g(17,Oi,2,0,"small",12),r()(),s(18,"div",8)(19,"label",13),_(20,"Meta"),r(),s(21,"div",10),h(22,"p-inputnumber",14),g(23,Pi,2,0,"small",12),r()(),s(24,"div",15)(25,"p-button",16),u("click",function(){return m(i),p(o.cancelDialog())}),r(),s(26,"p-button",17),u("click",function(){return m(i),p(o.submitDialog())}),r()()()(),h(27,"p-confirmPopup")}e&2&&(d("value",o.savings$())("layout",o.layout),l(8),k(F(18,Si)),re("header",o.dialogIsNew?"Nuevo ahorro":"Editar ahorro"),d("modal",!0),Le("visible",o.dialogFormVisible),l(),d("formGroup",o.savingForm),l(7),T(o.savingForm.controls.nombre.invalid&&o.savingForm.controls.nombre.touched?"ng-invalid ng-dirty":""),l(),N(o.savingForm.controls.nombre.getError("required")&&o.savingForm.controls.nombre.touched?17:-1),l(5),T(o.savingForm.controls.meta.invalid&&o.savingForm.controls.meta.touched?"ng-invalid ng-dirty":""),l(),N(o.savingForm.controls.meta.invalid&&o.savingForm.controls.meta.touched?23:-1),l(3),re("label",o.dialogIsNew?"Agregar":"Modificar"),d("loading",o.loading$()))},dependencies:[xt,bt,ne,ut,pt,lt,dt,ct,St,wt,Ft,Vt,Qe,Et,ft,gt,_t,Mt,zt,vt,ht,Ct,yt],styles:[".header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.header[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem;align-items:center}.header-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-top:10px}.header-bottom[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem;align-items:center}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid var(--p-content-border-color)}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0}.item-list[_ngcontent-%COMP%]{padding:1rem}.item-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.item-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:.5rem;gap:.5rem}.item-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:.5rem;margin-bottom:.5rem;gap:.5rem;align-items:flex-end}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:10px;grid-row-gap:10px;background-color:var(--background-color);padding:10px}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.dialog-subtitle[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem}.dialog-input[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.dialog-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}@media (max-width: 1000px){.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:10px;grid-row-gap:10px;background-color:var(--background-color);padding:10px}}@media (min-width: 1001px){.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-column-gap:10px;grid-row-gap:10px;background-color:var(--background-color);padding:10px}}"]})};export{Pt as SavingsComponent};
