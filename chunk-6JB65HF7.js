import{a as H,b as J,c as te}from"./chunk-7GXYQXEN.js";import"./chunk-RJULDXP5.js";import{a as Y}from"./chunk-HDE2EXQN.js";import{a as Z}from"./chunk-L3IHRNDC.js";import{c as W,e as L}from"./chunk-LK7TKE3M.js";import{h as U,i as q,j as X}from"./chunk-3WJ5JSSG.js";import{e as A,i as j,n as G}from"./chunk-2UWYRXKY.js";import{a as K,b as Q}from"./chunk-76W2CUH6.js";import"./chunk-F3QCDJXU.js";import"./chunk-QFK7VPNF.js";import{c as ee}from"./chunk-5674PVL2.js";import"./chunk-4YRY4IP2.js";import"./chunk-HIT6EUP3.js";import{K as z}from"./chunk-5CKZWRBR.js";import"./chunk-CK7WZHKF.js";import{$a as M,Ab as $,Bb as T,Cb as E,Db as I,Fb as B,Ga as i,Gb as D,Mb as P,Nb as F,Qb as k,Ua as v,Xa as _,Y as x,_a as V,aa as N,ab as O,bb as g,cb as S,db as w,eb as b,fb as l,gb as n,hb as f,ja as s,ka as d,lb as y,mb as u,nb as p,xb as m,yb as C,yc as R,zb as h}from"./chunk-O2BEBOXS.js";import"./chunk-ACKELEN3.js";var ne=()=>({height:"100%"});function oe(t,o){if(t&1){let e=y();l(0,"p-button",12),u("onClick",function(){s(e);let a=p(4);return d(a.goToNewMovement("retiro",a.filterSaving))}),n()}}function re(t,o){if(t&1){let e=y();l(0,"p-button",13),u("onClick",function(){s(e);let a=p(4);return d(a.goToNewMovement("deposito",a.filterSaving))}),n()}}function ae(t,o){if(t&1&&v(0,oe,1,0,"p-button",10)(1,re,1,0,"p-button",11),t&2){let e=p(3);g((e.filterType==null?null:e.filterType.id)==="retiro"||!e.filterType?0:-1),i(),g((e.filterType==null?null:e.filterType.id)==="deposito"||!e.filterType?1:-1)}}function le(t,o){if(t&1){let e=y();l(0,"div",6),v(1,ae,2,2),l(2,"p-select",8),u("onChange",function(){s(e);let a=p(2);return d(a.notifyFilter())}),I("ngModelChange",function(a){s(e);let c=p(2);return E(c.filterType,a)||(c.filterType=a),d(a)}),n(),l(3,"p-select",9),u("onChange",function(){s(e);let a=p(2);return d(a.notifyFilter())}),I("ngModelChange",function(a){s(e);let c=p(2);return E(c.filterSaving,a)||(c.filterSaving=a),d(a)}),n()()}if(t&2){let e=p(2);i(),g(e.filterSaving?1:-1),i(),_("options",e.filterTypeOptions),T("ngModel",e.filterType),i(),_("options",e.savingsEnables$()),T("ngModel",e.filterSaving)}}function pe(t,o){if(t&1){let e=y();l(0,"p-button",12),u("onClick",function(){s(e);let a=p(4);return d(a.goToNewMovement("retiro",a.filterSaving))}),n()}}function me(t,o){if(t&1){let e=y();l(0,"p-button",13),u("onClick",function(){s(e);let a=p(4);return d(a.goToNewMovement("deposito",a.filterSaving))}),n()}}function se(t,o){if(t&1&&v(0,pe,1,0,"p-button",10)(1,me,1,0,"p-button",11),t&2){let e=p(3);g((e.filterType==null?null:e.filterType.id)==="retiro"||!e.filterType?0:-1),i(),g((e.filterType==null?null:e.filterType.id)==="deposito"||!e.filterType?1:-1)}}function de(t,o){if(t&1){let e=y();l(0,"div",7)(1,"div",6),v(2,se,2,2),l(3,"p-select",8),u("onChange",function(){s(e);let a=p(2);return d(a.notifyFilter())}),I("ngModelChange",function(a){s(e);let c=p(2);return E(c.filterType,a)||(c.filterType=a),d(a)}),n(),l(4,"p-select",9),u("onChange",function(){s(e);let a=p(2);return d(a.notifyFilter())}),I("ngModelChange",function(a){s(e);let c=p(2);return E(c.filterSaving,a)||(c.filterSaving=a),d(a)}),n()()()}if(t&2){let e=p(2);i(2),g(e.filterSaving?2:-1),i(),_("options",e.filterTypeOptions),T("ngModel",e.filterType),i(),_("options",e.savingsEnables$()),T("ngModel",e.filterSaving)}}function _e(t,o){if(t&1&&(l(0,"div",5)(1,"h3"),m(2),n(),v(3,le,4,5,"div",6),n(),v(4,de,5,5,"div",7)),t&2){let e,r=p();i(2),$("",(e=r.filterType==null?null:r.filterType.nombre)!==null&&e!==void 0?e:"Movimientos"," ",r.filterSaving?"de "+r.filterSaving.nombre:"recientes",""),i(),g(r.layout==="grid"?3:-1),i(),g(r.layout==="list"?4:-1)}}function ce(t,o){if(t&1&&(l(0,"div",14)(1,"div",15)(2,"div",16),f(3,"p-skeleton",17)(4,"p-skeleton",18),n(),f(5,"p-skeleton",19),n(),l(6,"div",20),f(7,"p-skeleton",21)(8,"p-skeleton",21)(9,"p-skeleton",21),n()()),t&2){let e=p(3);i(7),_("width",e._utils.randomNumberInt(6,15).toString()+"rem"),i(),_("width",e._utils.randomNumberInt(6,15).toString()+"rem"),i(),_("width",e._utils.randomNumberInt(6,15).toString()+"rem")}}function ge(t,o){if(t&1&&w(0,ce,10,3,"div",14,S),t&2){let e=p(2);b(e._utils.arrayOf(6))}}function ve(t,o){if(t&1&&(l(0,"div",14)(1,"div",15)(2,"h3"),f(3,"i"),m(4),P(5,"currency"),n(),l(6,"h3"),m(7),n()(),l(8,"div",20)(9,"span")(10,"strong"),m(11,"Nombre del ahorro: "),n(),l(12,"span"),m(13),n(),m(14),n(),l(15,"span")(16,"strong"),m(17),n(),m(18),n(),l(19,"span")(20,"strong"),m(21,"Descripci\xF3n: "),n(),m(22),n()()()),t&2){let e=o.$implicit,r=p(3);i(2),M(r.isDeposit(e)?"deposit":"out"),i(),O("pi ",r.isDeposit(e)?"pi-arrow-circle-down":"pi-arrow-circle-up",""),i(),h(" ",F(5,16,e.cantidad)," "),i(3),C(e.fecha),i(5),M(r.isDisable(e)?"saving-disable":""),i(),C(r.getSavingName(e.idAhorros)),i(),h(" ",r.isDisable(e)?"(Inactivo)":""," "),i(3),C(r.isDeposit(e)?"Aportado por:":"Retirado por:"),i(),h(" ",e.familiar,""),i(4),C(e.descripcion)}}function fe(t,o){if(t&1&&w(0,ve,23,18,"div",14,S),t&2){let e=p().$implicit;b(e)}}function ue(t,o){if(t&1&&v(0,ge,2,0)(1,fe,2,0),t&2){let e=p();g(e.loading$()?0:1)}}function Ce(t,o){if(t&1&&(l(0,"p-card")(1,"div",15)(2,"div",16),f(3,"p-skeleton",17)(4,"p-skeleton",18),n(),f(5,"p-skeleton",19),n(),l(6,"div",20),f(7,"p-skeleton",21)(8,"p-skeleton",21)(9,"p-skeleton",21),n()()),t&2){let e=p(3);V(D(5,ne)),i(7),_("width",e._utils.randomNumberInt(6,15).toString()+"rem"),i(),_("width",e._utils.randomNumberInt(6,15).toString()+"rem"),i(),_("width",e._utils.randomNumberInt(6,15).toString()+"rem")}}function xe(t,o){if(t&1&&w(0,Ce,10,6,"p-card",23,S),t&2){let e=p(2);b(e._utils.arrayOf(6))}}function ye(t,o){if(t&1&&(l(0,"p-card")(1,"div",15)(2,"h3"),f(3,"i"),m(4),P(5,"currency"),n(),l(6,"h3"),m(7),n()(),l(8,"div",20)(9,"span")(10,"strong"),m(11,"Nombre del ahorro: "),n(),l(12,"span"),m(13),n(),m(14),n(),l(15,"span")(16,"strong"),m(17),n(),m(18),n(),l(19,"span")(20,"strong"),m(21,"Descripci\xF3n: "),n(),m(22),n()()()),t&2){let e=o.$implicit,r=p(3);V(D(20,ne)),i(2),M(r.isDeposit(e)?"deposit":"out"),i(),O("pi ",r.isDeposit(e)?"pi-arrow-circle-down":"pi-arrow-circle-up",""),i(),h(" ",F(5,18,e.cantidad)," "),i(3),C(e.fecha),i(5),M(r.isDisable(e)?"saving-disable":""),i(),C(r.getSavingName(e.idAhorros)),i(),h(" ",r.isDisable(e)?"(Inactivo)":""," "),i(3),C(r.isDeposit(e)?"Aportado por:":"Retirado por:"),i(),h(" ",e.familiar,""),i(4),C(e.descripcion)}}function he(t,o){if(t&1&&w(0,ye,23,21,"p-card",23,S),t&2){let e=p().$implicit;b(e)}}function Me(t,o){if(t&1&&(l(0,"div",22),v(1,xe,2,0)(2,he,2,0),n()),t&2){let e=p();i(),g(e.loading$()?1:2)}}var ie=class t{_movementService=x(Y);_savingService=x(Z);_deviceService=x(X);_activatedRouter=x(W);_router=x(L);_utils=x(z);movements$=this._movementService.getMovement(this.filterSaving,this.filterType);loading$=this._movementService.loading$;subscription;layout="list";filterSaving;savingsEnables$=this._savingService.getSavings();allSavings$=this._savingService.getSavings(0);filterType;filterTypeOptions=[{id:"retiro",nombre:"Retiros"},{id:"deposito",nombre:"Depositos"}];ngOnInit(){this.subscription=this._deviceService.isMobile$.subscribe(o=>{this.layout=o?"list":"grid"}),this._activatedRouter.queryParams.subscribe(o=>{this.filterType=this.filterTypeOptions?.find(e=>e.id===o.type),this.filterSaving=this.savingsEnables$().find(e=>e.id===o.saving),this.notifyFilter()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}goToNewMovement(o,e){this._router.navigateByUrl(`/movimientos/${o}?ahorroId=${e.id}`)}isDeposit(o){return o.tipo==="deposito"}isDisable(o){return!this.savingsEnables$().find(e=>e.id===o.idAhorros)}getSavingName(o){return this.allSavings$().find(e=>e.id===o)?.nombre}notifyFilter(){this.movements$=this._movementService.getMovement(this.filterSaving,this.filterType)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=N({type:t,selectors:[["app-home"]],standalone:!0,features:[B],decls:8,vars:2,consts:[["dv",""],["header",""],["list",""],["grid",""],[3,"value","layout"],[1,"header"],[1,"controls"],[1,"header-bottom"],["size","small","showClear","true","variant","filled","optionLabel","nombre","placeholder","Filtrar por tipo",3,"onChange","ngModelChange","options","ngModel"],["size","small","showClear","true","variant","filled","optionLabel","nombre","placeholder","Filtrar por ahorro",3,"onChange","ngModelChange","options","ngModel"],["label","Retirar","size","small"],["label","Guardar","size","small"],["label","Retirar","size","small",3,"onClick"],["label","Guardar","size","small",3,"onClick"],[1,"border-bottom","item-list"],[1,"item-header"],[2,"display","flex","gap","0.5rem"],["width","1rem","height","1rem","shape","circle","size","2rem"],["width","6rem","height","2rem"],["width","10rem","height","2rem"],[1,"item-body"],["height","1rem",3,"width"],[1,"grid-container"],[3,"style"]],template:function(e,r){e&1&&(l(0,"p-dataview",4,0),v(2,_e,5,4,"ng-template",null,1,k)(4,ue,2,1,"ng-template",null,2,k)(6,Me,3,1,"ng-template",null,3,k),n()),e&2&&_("value",r.movements$())("layout",r.layout)},dependencies:[J,H,q,U,G,A,j,Q,K,ee,R,te],styles:[".header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.header[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem;align-items:center}.header-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:space-between;align-items:center;margin-top:10px}.header-bottom[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:1rem;align-items:center}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid var(--p-content-border-color)}h3[_ngcontent-%COMP%]{margin:0}.item-list[_ngcontent-%COMP%]{padding:1rem}.item-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.item-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:.5rem;margin-bottom:.5rem;gap:.5rem}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:10px;grid-row-gap:10px;background-color:var(--background-color);padding:10px}.deposit[_ngcontent-%COMP%]{color:green}.out[_ngcontent-%COMP%]{color:red}.saving-disable[_ngcontent-%COMP%]{text-decoration:line-through}@media (max-width: 1000px){.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:10px;grid-row-gap:10px;background-color:var(--background-color);padding:10px}}@media (min-width: 1001px){.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-column-gap:10px;grid-row-gap:10px;background-color:var(--background-color);padding:10px}}"]})};export{ie as MovementsComponent};
